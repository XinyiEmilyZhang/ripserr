<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculating Persistent Homology with a Cubical Complex â€¢ ripserr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Calculating Persistent Homology with a Cubical Complex">
<meta property="og:description" content="ripserr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ripserr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cubical.html">Calculating Persistent Homology with a Cubical Complex</a>
    </li>
    <li>
      <a href="../articles/vietoris-rips.html">Calculating Persistent Homology with a Vietoris-Rips Complex</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rrrlw/ripserr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Calculating Persistent Homology with a Cubical Complex</h1>
                        <h4 class="author">Raoul R. Wadhwa and Jacob G. Scott</h4>
            
            <h4 class="date">2020-11-02</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rrrlw/ripserr/blob/master/vignettes/cubical.Rmd"><code>vignettes/cubical.Rmd</code></a></small>
      <div class="hidden name"><code>cubical.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://rrrlw.github.io/ripserr">ripserr</a></span>)
</pre></div>
<div id="sample-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#sample-dataset" class="anchor"></a>Sample dataset</h2>
<p>For this vignette, we will generate a lattice representing a 2-dimensional image; this will be stored in a variable named <code>sample_image</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co"># create dataset</span>
<span class="kw">sample_image</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fl">0</span>, nrow = <span class="fl">10</span>, ncol = <span class="fl">10</span>)
<span class="kw">i</span> <span class="op">&lt;-</span> <span class="fl">2</span><span class="op">:</span><span class="fl">9</span>
<span class="kw">j</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">2</span>, <span class="fl">9</span>)
<span class="kw">sample_image</span>[<span class="kw">i</span>, <span class="kw">j</span>] <span class="op">&lt;-</span> <span class="fl">1</span>
<span class="kw">sample_image</span>[<span class="kw">j</span>, <span class="kw">i</span>] <span class="op">&lt;-</span> <span class="fl">1</span>

<span class="co"># view as matrix</span>
<span class="kw">sample_image</span>
<span class="co">#&gt;       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]</span>
<span class="co">#&gt;  [1,]    0    0    0    0    0    0    0    0    0     0</span>
<span class="co">#&gt;  [2,]    0    1    1    1    1    1    1    1    1     0</span>
<span class="co">#&gt;  [3,]    0    1    0    0    0    0    0    0    1     0</span>
<span class="co">#&gt;  [4,]    0    1    0    0    0    0    0    0    1     0</span>
<span class="co">#&gt;  [5,]    0    1    0    0    0    0    0    0    1     0</span>
<span class="co">#&gt;  [6,]    0    1    0    0    0    0    0    0    1     0</span>
<span class="co">#&gt;  [7,]    0    1    0    0    0    0    0    0    1     0</span>
<span class="co">#&gt;  [8,]    0    1    0    0    0    0    0    0    1     0</span>
<span class="co">#&gt;  [9,]    0    1    1    1    1    1    1    1    1     0</span>
<span class="co">#&gt; [10,]    0    0    0    0    0    0    0    0    0     0</span>

<span class="co"># view as image</span>
<span class="kw">graphics</span>::<span class="fu"><a href="https://rdrr.io/r/graphics/image.html">image</a></span>(<span class="kw">sample_image</span>, useRaster = <span class="fl">TRUE</span>, axes = <span class="fl">FALSE</span>)
</pre></div>
<p><img src="cubical_files/figure-html/load-data-1.png" width="576"></p>
<p>Above, each of the 100 matrix values is analogous to a single pixel in an image.</p>
</div>
<div id="calculating-persistent-homology" class="section level2">
<h2 class="hasAnchor">
<a href="#calculating-persistent-homology" class="anchor"></a>Calculating persistent homology</h2>
<p>Based on the image, we expect a 1-cycle to be present in the persistent homology of <code>sample_image</code>. The <a href="https://arxiv.org/abs/2005.12692">CubicalRipser</a> C++ library is wrapped by R using <a href="https://CRAN.R-project.org/package=Rcpp">Rcpp</a>, and performs calculations via a cubical complex created with <code>sample_image</code>. These calculations result in a data frame that characterizes the persistent homology of <code>sample_image</code> and can be performed with a single line of R code using ripserr.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="co"># calculate persistent homology</span>
<span class="kw">image_phom</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cubical.html">cubical</a></span>(<span class="kw">sample_image</span>)

<span class="co"># print features</span>
<span class="kw">image_phom</span>
<span class="co">#&gt;   dimension birth death</span>
<span class="co">#&gt; 1         0     0     1</span>
<span class="co">#&gt; 3         1     0     1</span>
</pre></div>
<p>Each row in <code>image_phom</code> represents a single feature. The homology matrix has 3 columns:</p>
<ol style="list-style-type: decimal">
<li>
<strong>dimension:</strong> if 0, represents a 0-cycle; if 1, represents a 1-cycle; and so on.</li>
<li>
<strong>birth:</strong> radius of the cubical complex at which this feature begins</li>
<li>
<strong>death:</strong> radius of the cubical complex at which this feature ends</li>
</ol>
<p>Persistence of a feature is generally defined as the length of the interval of the radius within which the feature exists. This is calculated as the numerical difference between the second (birth) and third (death) columns of the homology data frame Confirmed in the output above, the homology data frame is ordered by dimension, with the birth column used to sort features of the same dimension. As expected for <code>sample_image</code>, the homology data frame contains a single 1-cycle. The <a href="https://CRAN.R-project.org/package=ggtda">ggtda</a> and <a href="https://CRAN.R-project.org/package=TDAstats">TDAstats</a> R packages can be used to visualize <code>image_phom</code> for further insight.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Raoul Wadhwa, Matt Piekenbrock, Jacob Scott.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
